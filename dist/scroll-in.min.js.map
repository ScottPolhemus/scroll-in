{"version":3,"sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","../src/scroll-in.js"],"names":["ScrollIn","this","updateTargetMap","onScroll","window","addEventListener","bind","prototype","targets","document","querySelectorAll","targetMap","i","length","el","rect","getBoundingClientRect","top","push","map","event","scrollTop","pageYOffset","scrollBottom","innerHeight","targetY","forEach","targetEl","getAttribute","setTimeout","setAttribute","trigger","name","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","module","exports"],"mappings":"AAAA;ACAA,QAASA,YACPC,KAAKC,kBACLD,KAAKE,WAELC,OAAOC,iBAAiB,SAAUJ,KAAKC,gBAAgBI,KAAKL,OAC5DG,OAAOC,iBAAiB,SAAUJ,KAAKE,SAASG,KAAKL,OAGvDD,SAASO,UAAUL,gBAAkB,WAInC,IAAI,GAHAM,GAAUC,SAASC,iBAAiB,oBACpCC,KAEIC,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAK,CACtC,GAAIE,GAAKN,EAAQI,GACbG,EAAOD,EAAGE,wBACVC,EAAMF,EAAKE,GAEfN,GAAUM,GAAON,EAAUM,OAC3BN,EAAUM,GAAKC,KAAKJ,GAGtBb,KAAKkB,IAAMR,GAGbX,SAASO,UAAUJ,SAAW,SAASiB,GACrC,GAAIC,GAAYjB,OAAOkB,YACnBC,EAAeF,EAAYjB,OAAOoB,WAEtC,KAAI,GAAIC,KAAWxB,MAAKkB,IACtB,GAAGI,EAAeE,EAAS,CACzB,GAAIjB,GAAUP,KAAKkB,IAAIM,EAEvBjB,GAAQkB,QAAQ,SAASC,EAAUf,GACc,OAA5Ce,EAASC,aAAa,mBACvBC,WAAW,WACTF,EAASG,aAAa,iBAAkB,MACxC7B,KAAK8B,QAAQJ,EAAU,cACvBrB,KAAKL,MAAO,GAAKW,IAErBN,KAAKL,SAKbD,SAASO,UAAUwB,QAAU,SAASjB,EAAIkB,GACxC,GAAI5B,OAAO6B,YACT,GAAIb,GAAQ,GAAIa,aAAYD,GAAOE,gBAC9B,CACL,GAAId,GAAQX,SAAS0B,YAAY,cACjCf,GAAMgB,gBAAgBJ,GAAM,GAAM,MAGpClB,EAAGuB,cAAcjB,IAGnBkB,OAAOC,QAAUvC","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function ScrollIn() {\n  this.updateTargetMap();\n  this.onScroll();\n  \n  window.addEventListener('resize', this.updateTargetMap.bind(this));\n  window.addEventListener('scroll', this.onScroll.bind(this));\n}\n\nScrollIn.prototype.updateTargetMap = function() {\n  var targets = document.querySelectorAll('[data-scroll-in]');\n  var targetMap = {};\n\n  for(var i = 0; i < targets.length; i++) {\n    var el = targets[i];\n    var rect = el.getBoundingClientRect();\n    var top = rect.top;\n\n    targetMap[top] = targetMap[top] || [];\n    targetMap[top].push(el);\n  }\n\n  this.map = targetMap;\n};\n\nScrollIn.prototype.onScroll = function(event) {\n  var scrollTop = window.pageYOffset;\n  var scrollBottom = scrollTop + window.innerHeight;\n\n  for(var targetY in this.map) {\n    if(scrollBottom > targetY) {\n      var targets = this.map[targetY];\n\n      targets.forEach(function(targetEl, i) {\n        if(targetEl.getAttribute('data-scroll-in') !== 'in') {\n          setTimeout(function() {\n            targetEl.setAttribute('data-scroll-in', 'in');\n            this.trigger(targetEl, 'scroll-in');\n          }.bind(this), 50 * i);\n        }\n      }.bind(this));\n    }\n  }\n}\n\nScrollIn.prototype.trigger = function(el, name) {\n  if (window.CustomEvent) {\n    var event = new CustomEvent(name, {detail: {}});\n  } else {\n    var event = document.createEvent('CustomEvent');\n    event.initCustomEvent(name, true, true, {});\n  }\n\n  el.dispatchEvent(event);\n}\n\nmodule.exports = ScrollIn;"]}